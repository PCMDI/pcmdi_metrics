<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="2A. Monsoon (Wang)" href="Demo_2a_monsoon_wang.html" /><link rel="prev" title="1A. Compute Climatologies" href="Demo_1a_compute_climatologies.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>1B. Mean Climate Driver - PMP Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">PMP Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/PMPLogo_500x421px_72dpi.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">PMP Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">For users</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../start.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../supporting-data.html">Retrieving data</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../metrics.html">PMP Metrics</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of PMP Metrics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../metrics_mean-clim.html">Mean Climate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_enso.html">ENSO Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_mov.html">Extra-tropical modes of variability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_mjo.html">MJO baseline metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_monsoon.html">Monsoon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_ext.html">Extremes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_precip-variability.html">Precipitation Variability Across Timescales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_precip-distribution.html">Precipitation Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_subdaily-precipitation.html">Sub-daily precipitation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_sea_ice.html">Sea Ice</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/main/pcmdi_metrics/cloud_feedback/README.md">Cloud Feedbacks</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../demo-notebooks.html">Demo notebooks</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Demo notebooks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Demo_0_download_data.html">0. Prepare Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_1a_compute_climatologies.html">1A. Compute Climatologies</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">1B. Mean Climate Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_2a_monsoon_wang.html">2A. Monsoon (Wang)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_2b_monsoon_sperber.html">2B. Monsoon (Sperber)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_3_diurnal_cycle.html">3. Diurnal Cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_4_modes_of_variability.html">4. Modes of Variability</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_5_mjo_metrics.html">5. MJO</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_6_ENSO.html">6. ENSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_7_precip_variability.html">7. Precipitation Variability Across Timescales</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_7b_precip_distribution.html">7B. Precipitation Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_8_extremes.html">8. Extremes Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_9_seaIceExtent_ivanova.html">9A. Sea Ice</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_9b_seaIce_data_explore.html">9B. Sea Ice Supplementary</a></li>
<li class="toctree-l2"><a class="reference internal" href="portrait_plot_example.html">Portrait Plot: Usage Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_coordinate_plot_example.html">Parallel Coordinate Plot: Usage Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="taylor_diagram_example.html">Taylor Diagram: Usage Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="portrait_plot_mean_clim.html">Portrait Plot: Mean Climate</a></li>
<li class="toctree-l2"><a class="reference internal" href="portrait_plot_mean_clim_multiple_CMIPs.html">Portrait Plot: Mean Climate, comparing CMIP5 &amp; CMIP6 models</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_coordinate_plot_mean_clim.html">Parallel Coordinate Plot: Mean Climate</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_coordinate_plot_mean_clim_multiMIPs.html">Parallel Coordinate Plot: Mean Climate, comparing CMIP5 &amp; CMIP6 models</a></li>
<li class="toctree-l2"><a class="reference internal" href="taylor_diagram_multiple_CMIPs.html">Taylor Diagram: Mean Climate, comparing CMIP5 &amp; CMIP6 models</a></li>
<li class="toctree-l2"><a class="reference internal" href="mean_clim_plots_test_model.html">PMP mean climate: Compare user’s model with CMIP6</a></li>
<li class="toctree-l2"><a class="reference internal" href="enso_portrait_plot.html">Portrait Plot: ENSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="variability_modes_plots_all-stats.html">Visualize PMP Modes of Variability results: CMIP6</a></li>
<li class="toctree-l2"><a class="reference internal" href="return_value_portrait_plot_demo.html">Return Value Portrait Plot Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="landmask.html">Generate land sea mask</a></li>
<li class="toctree-l2"><a class="reference internal" href="pmp_metrics_database.html">Access to online PMP output database</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For developers/contributors</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.custom_season_average.html">pcmdi_metrics.utils.custom_season_average</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.custom_season_departure.html">pcmdi_metrics.utils.custom_season_departure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.replace_date_pattern.html">pcmdi_metrics.utils.replace_date_pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.xcdat_open.html">pcmdi_metrics.io.xcdat_open</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.date_to_str.html">pcmdi_metrics.utils.date_to_str</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.extract_date_components.html">pcmdi_metrics.utils.extract_date_components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.find_overlapping_dates.html">pcmdi_metrics.utils.find_overlapping_dates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.create_land_sea_mask.html">pcmdi_metrics.utils.create_land_sea_mask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.apply_landmask.html">pcmdi_metrics.utils.apply_landmask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.apply_oceanmask.html">pcmdi_metrics.utils.apply_oceanmask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.graphics.parallel_coordinate_plot.html">pcmdi_metrics.graphics.parallel_coordinate_plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.graphics.portrait_plot.html">pcmdi_metrics.graphics.portrait_plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.graphics.TaylorDiagram.html">pcmdi_metrics.graphics.TaylorDiagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.create_target_grid.html">pcmdi_metrics.utils.create_target_grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.regrid.html">pcmdi_metrics.utils.regrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.load_regions_specs.html">pcmdi_metrics.io.load_regions_specs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.region_subset.html">pcmdi_metrics.io.region_subset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.region_from_file.html">pcmdi_metrics.io.region_from_file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_grid.html">pcmdi_metrics.io.get_grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_axis_list.html">pcmdi_metrics.io.get_axis_list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_data_list.html">pcmdi_metrics.io.get_data_list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_latitude.html">pcmdi_metrics.io.get_latitude</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_latitude_bounds.html">pcmdi_metrics.io.get_latitude_bounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_latitude_key.html">pcmdi_metrics.io.get_latitude_key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_longitude.html">pcmdi_metrics.io.get_longitude</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_longitude_bounds.html">pcmdi_metrics.io.get_longitude_bounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_longitude_key.html">pcmdi_metrics.io.get_longitude_key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_time.html">pcmdi_metrics.io.get_time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_time_bounds.html">pcmdi_metrics.io.get_time_bounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_time_bounds_key.html">pcmdi_metrics.io.get_time_bounds_key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_time_key.html">pcmdi_metrics.io.get_time_key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.io.select_subset.html">pcmdi_metrics.io.select_subset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.check_daily_time_axis.html">pcmdi_metrics.utils.check_daily_time_axis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.check_monthly_time_axis.html">pcmdi_metrics.utils.check_monthly_time_axis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.regenerate_time_axis.html">pcmdi_metrics.utils.regenerate_time_axis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.sort_human.html">pcmdi_metrics.utils.sort_human</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.fill_template.html">pcmdi_metrics.utils.fill_template</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.utils.tree.html">pcmdi_metrics.utils.tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/pcmdi_metrics.viewer.generate_pmp_output_viewer_multimodel.html">pcmdi_metrics.viewer.generate_pmp_output_viewer_multimodel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../resources.html">Resources</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Resources</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../resources_legacy.html">Legacy archive</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Legacy archive</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../pmp-using-cdp-guide.html">PMP using CDP Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pmpparser.html">PMPParser</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">Team</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pcmdi.llnl.gov/research/metrics/">PMP Results</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics">Source Code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/discussions">Discussions</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/PCMDI/pcmdi_metrics/blob/main/docs/examples/Demo_1b_mean_climate.ipynb?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/PCMDI/pcmdi_metrics/edit/main/docs/examples/Demo_1b_mean_climate.ipynb" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="1B.-Mean-Climate-Driver">
<h1>1B. Mean Climate Driver<a class="headerlink" href="#1B.-Mean-Climate-Driver" title="Link to this heading"></a></h1>
<p>This notebook introduces new users to the PCDMI mean climate driver.</p>
<p>This notebook should be run in an environment with python, jupyterlab, pcmdi metrics package, and cdat installed. It is expected that you have downloaded the sample data and prepared input parameter files as demonstrated in the <a class="reference internal" href="Demo_0_download_data.html"><span class="doc">0. Prepare Demos</span></a> notebook.</p>
<p>To see which datasets are the default and which are alternates, check out <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/main/doc/obs_info_dictionary.json">pcmdi_metrics/doc/obs_info_dictionary.json</a>.</p>
<p>The following cell reads in the choices you made during the download data step:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># To open and display one of the graphics</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.image</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpimg</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">rcParams</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">user_choices</span><span class="w"> </span><span class="kn">import</span> <span class="n">demo_data_directory</span><span class="p">,</span> <span class="n">demo_output_directory</span>
</pre></div>
</div>
</div>
<p>When you chec <code class="docutils literal notranslate"><span class="pre">user_choices.py</span></code> in the current directory, you will see:</p>
<p>This is where you will be downloading the sample_data: <code class="docutils literal notranslate"><span class="pre">demo_data_directory</span> <span class="pre">=</span> <span class="pre">&quot;demo_data&quot;</span></code></p>
<p>and this line is where your output will be stored: <code class="docutils literal notranslate"><span class="pre">demo_output_directory</span> <span class="pre">=</span> <span class="pre">&quot;demo_output&quot;</span></code></p>
<section id="Download-reference-datasets">
<h2>Download reference datasets<a class="headerlink" href="#Download-reference-datasets" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lets get the file containing the data needed for this demo</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://pcmdi.llnl.gov/pss/pmpdata/PMP_obs4MIPsClims_v20250228.txt&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data_files.txt&quot;</span><span class="p">,</span><span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s download the files</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pcmdi_metrics.io.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">download_sample_data_files</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">download_sample_data_files</span><span class="p">(</span><span class="s2">&quot;data_files.txt&quot;</span><span class="p">,</span> <span class="n">demo_data_directory</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All files downloaded&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Download failed&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
All files downloaded
</pre></div></div>
</div>
</section>
<section id="Basic-use">
<h2>Basic use<a class="headerlink" href="#Basic-use" title="Link to this heading"></a></h2>
<p>The PCMDI Median Driver is driven via parameter files reflecting your study and environment. The parameter file for this demo is shown here:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;basic_param.py&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
import os

#
#  OPTIONS ARE SET BY USER IN THIS FILE AS INDICATED BELOW BY:
#
#

# RUN IDENTIFICATION
# DEFINES A SUBDIRECTORY TO METRICS OUTPUT RESULTS SO MULTIPLE CASES CAN
# BE COMPARED
case_id = &#39;basicTest&#39;

# LIST OF MODEL VERSIONS TO BE TESTED - WHICH ARE EXPECTED TO BE PART OF
# CLIMATOLOGY FILENAME
test_data_set = [&#39;ACCESS1-0&#39;, &#39;CanCM4&#39;]


# VARIABLES TO USE
vars = [&#39;pr&#39;]


# Observations to use at the moment &#34;default&#34; or &#34;alternate&#34;
reference_data_set = [&#39;all&#39;]
#ext = &#39;.nc&#39;

# INTERPOLATION OPTIONS
target_grid = &#39;2.5x2.5&#39;  # OPTIONS: &#39;2.5x2.5&#39; or an actual cdms2 grid object
regrid_tool = &#39;regrid2&#39;  # &#39;regrid2&#39; # OPTIONS: &#39;regrid2&#39;,&#39;esmf&#39;
# OPTIONS: &#39;linear&#39;,&#39;conservative&#39;, only if tool is esmf
regrid_method = &#39;linear&#39;
regrid_tool_ocn = &#39;esmf&#39;    # OPTIONS: &#34;regrid2&#34;,&#34;esmf&#34;
# OPTIONS: &#39;linear&#39;,&#39;conservative&#39;, only if tool is esmf
regrid_method_ocn = &#39;linear&#39;

# Templates for climatology files
# %(param) will subsitute param with values in this file
filename_template = &#34;cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc&#34;

# filename template for landsea masks (&#39;sftlf&#39;)
sftlf_filename_template = &#34;sftlf_%(model_version).nc&#34;
generate_sftlf = True # if land surface type mask cannot be found, generate one

# Region
regions = {
    &#34;pr&#34;: [&#34;global&#34;],
    &#34;rlut&#34;: [&#34;global&#34;]
}

# ROOT PATH FOR MODELS CLIMATOLOGIES
test_data_path = &#39;demo_data_tmp/CMIP5_demo_clims/&#39;
# ROOT PATH FOR OBSERVATIONS
# Note that atm/mo/%(variable)/ac will be added to this
reference_data_path = &#39;demo_data_tmp/PMP_obs4MIPsClims&#39;
custom_observations = &#39;demo_data_tmp/PMP_obs4MIPsClims/PMP_obs4MIPsClims_catalogue_byVar_v20250305.json&#39;

# DIRECTORY WHERE TO PUT RESULTS
metrics_output_path = os.path.join(
    &#39;demo_output_tmp&#39;,
    &#34;%(case_id)&#34;)

</pre></div></div>
</div>
<p>To run the mean climate driver, use the following command in the terminal. This will generate a metrics file based on the models, observations, and other criteria in <code class="docutils literal notranslate"><span class="pre">basic_param.py</span></code></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mean_climate_driver.py -p basic_param.py
</pre></div>
</div>
<p>In the next cell, bash cell magic is used to run this command as a subprocess:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: basicTest
test_data_set: [&#39;ACCESS1-0&#39;, &#39;CanCM4&#39;]
realization:
vars: [&#39;pr&#39;]
varname_in_test_data: None
reference_data_set: [&#39;all&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;EA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SCA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;pr&#39;: [&#39;global&#39;], &#39;rlut&#39;: [&#39;global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/PMP_obs4MIPsClims
custom_observations: demo_data_tmp/PMP_obs4MIPsClims/PMP_obs4MIPsClims_catalogue_byVar_v20250305.json
metrics_output_path: demo_output_tmp/basicTest
diagnostics_output_path: demo_output_tmp/basicTest
debug: False
--- start mean climate metrics calculation ---
varname: pr
level: None
reference_data_set (all):  [&#39;default&#39;]
No &#39;default&#39; reference found, using the only available reference: GPCP-Monthly-3-2 for variable &#39;pr&#39;
obs_dict (for variable): pr
{&#39;GPCP-Monthly-3-2&#39;: {&#39;filename&#39;: &#39;pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc&#39;,
                      &#39;template&#39;: &#39;pr/gr/v20250211/pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc&#39;},
 &#39;default&#39;: &#39;GPCP-Monthly-3-2&#39;}
obs_dict (for variable) keys: dict_keys([&#39;GPCP-Monthly-3-2&#39;, &#39;default&#39;])
ref: default
ref_data_full_path: demo_data_tmp/PMP_obs4MIPsClims/pr/gr/v20250211/pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:13:22,354 [WARNING]: dataset.py(open_dataset:119) &gt;&gt; &#34;No time coordinates were found in this dataset to decode. If time coordinates were expected to exist, make sure they are detectable by setting the CF &#39;axis&#39; or &#39;standard_name&#39; attribute (e.g., ds[&#39;time&#39;].attrs[&#39;axis&#39;] = &#39;T&#39; or ds[&#39;time&#39;].attrs[&#39;standard_name&#39;] = &#39;time&#39;). Afterwards, try decoding again with `xcdat.decode_time`.&#34;
2025-09-09 13:13:22,354 [WARNING]: dataset.py(open_dataset:119) &gt;&gt; &#34;No time coordinates were found in this dataset to decode. If time coordinates were expected to exist, make sure they are detectable by setting the CF &#39;axis&#39; or &#39;standard_name&#39; attribute (e.g., ds[&#39;time&#39;].attrs[&#39;axis&#39;] = &#39;T&#39; or ds[&#39;time&#39;].attrs[&#39;standard_name&#39;] = &#39;time&#39;). Afterwards, try decoding again with `xcdat.decode_time`.&#34;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.pr.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:13:23,090 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:13:23,090 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
load and regrid done
region: global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: pr
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 1.799550936366056
metrics, stdObs_xyt
metrics, stdObs_xyt: 2.515774881304398
metrics, std_xyt
metrics, std_xyt: 3.130519436028271
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 0.25922720300136437
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 0.7214291468630076
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  1.1919949747114273 1.1634660618004224
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8835624605311525
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2025-09-09 13:14::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/pr/pr_ACCESS1-0__2.5x2.5_regrid2_metrics_default_basicTest.json
2025-09-09 13:14:26,611 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/pr/pr_ACCESS1-0__2.5x2.5_regrid2_metrics_default_basicTest.json
2025-09-09 13:14:26,611 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/pr/pr_ACCESS1-0__2.5x2.5_regrid2_metrics_default_basicTest.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.pr.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:14:26,640 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:14:26,640 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
load and regrid done
region: global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: pr
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 1.693711089398293
metrics, stdObs_xyt
metrics, stdObs_xyt: 2.515774881304398
metrics, std_xyt
metrics, std_xyt: 2.746290781422428
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -0.0535337294227398
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 0.774093996764745
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  1.2120644012749338 1.2108816014177675
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8345736264770883
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2025-09-09 13:15::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/pr/pr_CanCM4__2.5x2.5_regrid2_metrics_default_basicTest.json
2025-09-09 13:15:37,604 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/pr/pr_CanCM4__2.5x2.5_regrid2_metrics_default_basicTest.json
2025-09-09 13:15:37,604 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/pr/pr_CanCM4__2.5x2.5_regrid2_metrics_default_basicTest.json
INFO::2025-09-09 13:15::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/pr_2.5x2.5_regrid2_metrics_basicTest.json
2025-09-09 13:15:37,613 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/pr_2.5x2.5_regrid2_metrics_basicTest.json
2025-09-09 13:15:37,613 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/pr_2.5x2.5_regrid2_metrics_basicTest.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># figure size in inches optional</span>
<span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">10</span>

<span class="c1"># path to images</span>
<span class="n">image_path_djf</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">demo_output_directory</span><span class="p">,</span><span class="s2">&quot;basicTest/pr/pr_ACCESS1-0__interpolated_regrid2_Global_DJF_basicTest.png&quot;</span><span class="p">)</span>
<span class="n">image_path_jja</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">demo_output_directory</span><span class="p">,</span><span class="s2">&quot;basicTest/pr/pr_ACCESS1-0__interpolated_regrid2_Global_JJA_basicTest.png&quot;</span><span class="p">)</span>

<span class="c1"># display images</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">);</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image_path_djf</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image_path_jja</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.image.AxesImage at 0x172ca88e0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_Demo_1b_mean_climate_12_1.png" src="../_images/examples_Demo_1b_mean_climate_12_1.png" />
</div>
</div>
<p>Running the mean climate driver produces an output json file in the demo output directory. The metrics are stored in the “RESULTS” object of the json, viewed here:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="n">output_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">demo_output_directory</span><span class="p">,</span><span class="s2">&quot;basicTest/pr_2.5x2.5_regrid2_metrics_basicTest.json&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">metric</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)[</span><span class="s2">&quot;RESULTS&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">metric</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{
  &#34;ACCESS1-0&#34;: {
    &#34;default&#34;: {
      &#34;source&#34;: &#34;GPCP-Monthly-3-2&#34;,
      &#34;&#34;: {
        &#34;InputClimatologyFileName&#34;: &#34;cmip5.historical.ACCESS1-0.r1i1p1.mon.pr.198101-200512.AC.v20200426.nc&#34;,
        &#34;Global&#34;: {
          &#34;bias_xy&#34;: {
            &#34;ann&#34;: &#34;2.59227e-01&#34;,
            &#34;djf&#34;: &#34;2.58573e-01&#34;,
            &#34;mam&#34;: &#34;2.84891e-01&#34;,
            &#34;jja&#34;: &#34;2.79024e-01&#34;,
            &#34;son&#34;: &#34;2.15130e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.44339e-01&#34;,
              &#34;2.72209e-01&#34;,
              &#34;2.42156e-01&#34;,
              &#34;2.92509e-01&#34;,
              &#34;3.17260e-01&#34;,
              &#34;2.96571e-01&#34;,
              &#34;2.94654e-01&#34;,
              &#34;2.46352e-01&#34;,
              &#34;1.93360e-01&#34;,
              &#34;2.18105e-01&#34;,
              &#34;2.34022e-01&#34;,
              &#34;2.59189e-01&#34;
            ]
          },
          &#34;cor_xy&#34;: {
            &#34;ann&#34;: &#34;8.83562e-01&#34;,
            &#34;djf&#34;: &#34;8.69386e-01&#34;,
            &#34;mam&#34;: &#34;8.36063e-01&#34;,
            &#34;jja&#34;: &#34;8.45822e-01&#34;,
            &#34;son&#34;: &#34;8.50875e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;8.49486e-01&#34;,
              &#34;8.50622e-01&#34;,
              &#34;8.28531e-01&#34;,
              &#34;8.19663e-01&#34;,
              &#34;7.94971e-01&#34;,
              &#34;7.79469e-01&#34;,
              &#34;8.20938e-01&#34;,
              &#34;8.27655e-01&#34;,
              &#34;8.37839e-01&#34;,
              &#34;8.27425e-01&#34;,
              &#34;8.10679e-01&#34;,
              &#34;8.21431e-01&#34;
            ]
          },
          &#34;mae_xy&#34;: {
            &#34;ann&#34;: &#34;7.21429e-01&#34;,
            &#34;djf&#34;: &#34;8.76524e-01&#34;,
            &#34;mam&#34;: &#34;8.96475e-01&#34;,
            &#34;jja&#34;: &#34;9.63492e-01&#34;,
            &#34;son&#34;: &#34;8.64213e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;9.44617e-01&#34;,
              &#34;9.49359e-01&#34;,
              &#34;9.55736e-01&#34;,
              &#34;9.94040e-01&#34;,
              &#34;9.98548e-01&#34;,
              &#34;1.08393e+00&#34;,
              &#34;1.07853e+00&#34;,
              &#34;1.06215e+00&#34;,
              &#34;9.72518e-01&#34;,
              &#34;9.53854e-01&#34;,
              &#34;1.03373e+00&#34;,
              &#34;1.03675e+00&#34;
            ]
          },
          &#34;mean-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.81023e+00&#34;,
            &#34;djf&#34;: &#34;2.78965e+00&#34;,
            &#34;mam&#34;: &#34;2.78562e+00&#34;,
            &#34;jja&#34;: &#34;2.85401e+00&#34;,
            &#34;son&#34;: &#34;2.81134e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.79955e+00&#34;,
              &#34;2.76952e+00&#34;,
              &#34;2.79466e+00&#34;,
              &#34;2.76949e+00&#34;,
              &#34;2.79376e+00&#34;,
              &#34;2.86752e+00&#34;,
              &#34;2.85269e+00&#34;,
              &#34;2.84178e+00&#34;,
              &#34;2.82533e+00&#34;,
              &#34;2.79685e+00&#34;,
              &#34;2.81137e+00&#34;,
              &#34;2.80023e+00&#34;
            ]
          },
          &#34;mean_xy&#34;: {
            &#34;ann&#34;: &#34;3.06946e+00&#34;,
            &#34;djf&#34;: &#34;3.04822e+00&#34;,
            &#34;mam&#34;: &#34;3.07051e+00&#34;,
            &#34;jja&#34;: &#34;3.13304e+00&#34;,
            &#34;son&#34;: &#34;3.02647e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.04389e+00&#34;,
              &#34;3.04173e+00&#34;,
              &#34;3.03681e+00&#34;,
              &#34;3.06200e+00&#34;,
              &#34;3.11103e+00&#34;,
              &#34;3.16410e+00&#34;,
              &#34;3.14734e+00&#34;,
              &#34;3.08813e+00&#34;,
              &#34;3.01869e+00&#34;,
              &#34;3.01496e+00&#34;,
              &#34;3.04539e+00&#34;,
              &#34;3.05942e+00&#34;
            ]
          },
          &#34;rms_devzm&#34;: {
            &#34;ann&#34;: &#34;9.87552e-01&#34;
          },
          &#34;rms_xy&#34;: {
            &#34;ann&#34;: &#34;1.19199e+00&#34;,
            &#34;djf&#34;: &#34;1.60098e+00&#34;,
            &#34;mam&#34;: &#34;1.53329e+00&#34;,
            &#34;jja&#34;: &#34;1.64962e+00&#34;,
            &#34;son&#34;: &#34;1.53270e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.78966e+00&#34;,
              &#34;1.70639e+00&#34;,
              &#34;1.71990e+00&#34;,
              &#34;1.66363e+00&#34;,
              &#34;1.77204e+00&#34;,
              &#34;1.97998e+00&#34;,
              &#34;1.91334e+00&#34;,
              &#34;1.83395e+00&#34;,
              &#34;1.67583e+00&#34;,
              &#34;1.69501e+00&#34;,
              &#34;1.86946e+00&#34;,
              &#34;1.97542e+00&#34;
            ]
          },
          &#34;rms_xyt&#34;: {
            &#34;ann&#34;: &#34;1.79955e+00&#34;
          },
          &#34;rms_y&#34;: {
            &#34;ann&#34;: &#34;6.67527e-01&#34;
          },
          &#34;rmsc_xy&#34;: {
            &#34;ann&#34;: &#34;1.16347e+00&#34;,
            &#34;djf&#34;: &#34;1.57996e+00&#34;,
            &#34;mam&#34;: &#34;1.50659e+00&#34;,
            &#34;jja&#34;: &#34;1.62585e+00&#34;,
            &#34;son&#34;: &#34;1.51753e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.77290e+00&#34;,
              &#34;1.68454e+00&#34;,
              &#34;1.70277e+00&#34;,
              &#34;1.63771e+00&#34;,
              &#34;1.74341e+00&#34;,
              &#34;1.95764e+00&#34;,
              &#34;1.89052e+00&#34;,
              &#34;1.81732e+00&#34;,
              &#34;1.66463e+00&#34;,
              &#34;1.68092e+00&#34;,
              &#34;1.85475e+00&#34;,
              &#34;1.95834e+00&#34;
            ]
          },
          &#34;std-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.00595e+00&#34;,
            &#34;djf&#34;: &#34;2.46391e+00&#34;,
            &#34;mam&#34;: &#34;2.13342e+00&#34;,
            &#34;jja&#34;: &#34;2.63913e+00&#34;,
            &#34;son&#34;: &#34;2.31686e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.59576e+00&#34;,
              &#34;2.51661e+00&#34;,
              &#34;2.34084e+00&#34;,
              &#34;2.22530e+00&#34;,
              &#34;2.33491e+00&#34;,
              &#34;2.70020e+00&#34;,
              &#34;2.75700e+00&#34;,
              &#34;2.73490e+00&#34;,
              &#34;2.52093e+00&#34;,
              &#34;2.40951e+00&#34;,
              &#34;2.45659e+00&#34;,
              &#34;2.53315e+00&#34;
            ]
          },
          &#34;std-obs_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.64066e+00&#34;
          },
          &#34;std-obs_xyt&#34;: {
            &#34;ann&#34;: &#34;2.51577e+00&#34;
          },
          &#34;std_xy&#34;: {
            &#34;ann&#34;: &#34;2.45879e+00&#34;,
            &#34;djf&#34;: &#34;3.14906e+00&#34;,
            &#34;mam&#34;: &#34;2.73226e+00&#34;,
            &#34;jja&#34;: &#34;3.04541e+00&#34;,
            &#34;son&#34;: &#34;2.87762e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.33089e+00&#34;,
              &#34;3.18322e+00&#34;,
              &#34;3.02637e+00&#34;,
              &#34;2.85215e+00&#34;,
              &#34;2.87261e+00&#34;,
              &#34;3.09019e+00&#34;,
              &#34;3.31006e+00&#34;,
              &#34;3.23652e+00&#34;,
              &#34;3.04863e+00&#34;,
              &#34;2.99097e+00&#34;,
              &#34;3.16256e+00&#34;,
              &#34;3.40294e+00&#34;
            ]
          },
          &#34;std_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.92436e+00&#34;
          },
          &#34;std_xyt&#34;: {
            &#34;ann&#34;: &#34;3.13052e+00&#34;
          }
        },
        &#34;global&#34;: {
          &#34;bias_xy&#34;: {
            &#34;ann&#34;: &#34;2.59227e-01&#34;,
            &#34;djf&#34;: &#34;2.58573e-01&#34;,
            &#34;mam&#34;: &#34;2.84891e-01&#34;,
            &#34;jja&#34;: &#34;2.79024e-01&#34;,
            &#34;son&#34;: &#34;2.15130e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.44339e-01&#34;,
              &#34;2.72209e-01&#34;,
              &#34;2.42156e-01&#34;,
              &#34;2.92509e-01&#34;,
              &#34;3.17260e-01&#34;,
              &#34;2.96571e-01&#34;,
              &#34;2.94654e-01&#34;,
              &#34;2.46352e-01&#34;,
              &#34;1.93360e-01&#34;,
              &#34;2.18105e-01&#34;,
              &#34;2.34022e-01&#34;,
              &#34;2.59189e-01&#34;
            ]
          },
          &#34;cor_xy&#34;: {
            &#34;ann&#34;: &#34;8.83562e-01&#34;,
            &#34;djf&#34;: &#34;8.69386e-01&#34;,
            &#34;mam&#34;: &#34;8.36063e-01&#34;,
            &#34;jja&#34;: &#34;8.45822e-01&#34;,
            &#34;son&#34;: &#34;8.50875e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;8.49486e-01&#34;,
              &#34;8.50622e-01&#34;,
              &#34;8.28531e-01&#34;,
              &#34;8.19663e-01&#34;,
              &#34;7.94971e-01&#34;,
              &#34;7.79469e-01&#34;,
              &#34;8.20938e-01&#34;,
              &#34;8.27655e-01&#34;,
              &#34;8.37839e-01&#34;,
              &#34;8.27425e-01&#34;,
              &#34;8.10679e-01&#34;,
              &#34;8.21431e-01&#34;
            ]
          },
          &#34;mae_xy&#34;: {
            &#34;ann&#34;: &#34;7.21429e-01&#34;,
            &#34;djf&#34;: &#34;8.76524e-01&#34;,
            &#34;mam&#34;: &#34;8.96475e-01&#34;,
            &#34;jja&#34;: &#34;9.63492e-01&#34;,
            &#34;son&#34;: &#34;8.64213e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;9.44617e-01&#34;,
              &#34;9.49359e-01&#34;,
              &#34;9.55736e-01&#34;,
              &#34;9.94040e-01&#34;,
              &#34;9.98548e-01&#34;,
              &#34;1.08393e+00&#34;,
              &#34;1.07853e+00&#34;,
              &#34;1.06215e+00&#34;,
              &#34;9.72518e-01&#34;,
              &#34;9.53854e-01&#34;,
              &#34;1.03373e+00&#34;,
              &#34;1.03675e+00&#34;
            ]
          },
          &#34;mean-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.81023e+00&#34;,
            &#34;djf&#34;: &#34;2.78965e+00&#34;,
            &#34;mam&#34;: &#34;2.78562e+00&#34;,
            &#34;jja&#34;: &#34;2.85401e+00&#34;,
            &#34;son&#34;: &#34;2.81134e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.79955e+00&#34;,
              &#34;2.76952e+00&#34;,
              &#34;2.79466e+00&#34;,
              &#34;2.76949e+00&#34;,
              &#34;2.79376e+00&#34;,
              &#34;2.86752e+00&#34;,
              &#34;2.85269e+00&#34;,
              &#34;2.84178e+00&#34;,
              &#34;2.82533e+00&#34;,
              &#34;2.79685e+00&#34;,
              &#34;2.81137e+00&#34;,
              &#34;2.80023e+00&#34;
            ]
          },
          &#34;mean_xy&#34;: {
            &#34;ann&#34;: &#34;3.06946e+00&#34;,
            &#34;djf&#34;: &#34;3.04822e+00&#34;,
            &#34;mam&#34;: &#34;3.07051e+00&#34;,
            &#34;jja&#34;: &#34;3.13304e+00&#34;,
            &#34;son&#34;: &#34;3.02647e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.04389e+00&#34;,
              &#34;3.04173e+00&#34;,
              &#34;3.03681e+00&#34;,
              &#34;3.06200e+00&#34;,
              &#34;3.11103e+00&#34;,
              &#34;3.16410e+00&#34;,
              &#34;3.14734e+00&#34;,
              &#34;3.08813e+00&#34;,
              &#34;3.01869e+00&#34;,
              &#34;3.01496e+00&#34;,
              &#34;3.04539e+00&#34;,
              &#34;3.05942e+00&#34;
            ]
          },
          &#34;rms_devzm&#34;: {
            &#34;ann&#34;: &#34;9.87552e-01&#34;
          },
          &#34;rms_xy&#34;: {
            &#34;ann&#34;: &#34;1.19199e+00&#34;,
            &#34;djf&#34;: &#34;1.60098e+00&#34;,
            &#34;mam&#34;: &#34;1.53329e+00&#34;,
            &#34;jja&#34;: &#34;1.64962e+00&#34;,
            &#34;son&#34;: &#34;1.53270e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.78966e+00&#34;,
              &#34;1.70639e+00&#34;,
              &#34;1.71990e+00&#34;,
              &#34;1.66363e+00&#34;,
              &#34;1.77204e+00&#34;,
              &#34;1.97998e+00&#34;,
              &#34;1.91334e+00&#34;,
              &#34;1.83395e+00&#34;,
              &#34;1.67583e+00&#34;,
              &#34;1.69501e+00&#34;,
              &#34;1.86946e+00&#34;,
              &#34;1.97542e+00&#34;
            ]
          },
          &#34;rms_xyt&#34;: {
            &#34;ann&#34;: &#34;1.79955e+00&#34;
          },
          &#34;rms_y&#34;: {
            &#34;ann&#34;: &#34;6.67527e-01&#34;
          },
          &#34;rmsc_xy&#34;: {
            &#34;ann&#34;: &#34;1.16347e+00&#34;,
            &#34;djf&#34;: &#34;1.57996e+00&#34;,
            &#34;mam&#34;: &#34;1.50659e+00&#34;,
            &#34;jja&#34;: &#34;1.62585e+00&#34;,
            &#34;son&#34;: &#34;1.51753e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.77290e+00&#34;,
              &#34;1.68454e+00&#34;,
              &#34;1.70277e+00&#34;,
              &#34;1.63771e+00&#34;,
              &#34;1.74341e+00&#34;,
              &#34;1.95764e+00&#34;,
              &#34;1.89052e+00&#34;,
              &#34;1.81732e+00&#34;,
              &#34;1.66463e+00&#34;,
              &#34;1.68092e+00&#34;,
              &#34;1.85475e+00&#34;,
              &#34;1.95834e+00&#34;
            ]
          },
          &#34;std-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.00595e+00&#34;,
            &#34;djf&#34;: &#34;2.46391e+00&#34;,
            &#34;mam&#34;: &#34;2.13342e+00&#34;,
            &#34;jja&#34;: &#34;2.63913e+00&#34;,
            &#34;son&#34;: &#34;2.31686e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.59576e+00&#34;,
              &#34;2.51661e+00&#34;,
              &#34;2.34084e+00&#34;,
              &#34;2.22530e+00&#34;,
              &#34;2.33491e+00&#34;,
              &#34;2.70020e+00&#34;,
              &#34;2.75700e+00&#34;,
              &#34;2.73490e+00&#34;,
              &#34;2.52093e+00&#34;,
              &#34;2.40951e+00&#34;,
              &#34;2.45659e+00&#34;,
              &#34;2.53315e+00&#34;
            ]
          },
          &#34;std-obs_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.64066e+00&#34;
          },
          &#34;std-obs_xyt&#34;: {
            &#34;ann&#34;: &#34;2.51577e+00&#34;
          },
          &#34;std_xy&#34;: {
            &#34;ann&#34;: &#34;2.45879e+00&#34;,
            &#34;djf&#34;: &#34;3.14906e+00&#34;,
            &#34;mam&#34;: &#34;2.73226e+00&#34;,
            &#34;jja&#34;: &#34;3.04541e+00&#34;,
            &#34;son&#34;: &#34;2.87762e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.33089e+00&#34;,
              &#34;3.18322e+00&#34;,
              &#34;3.02637e+00&#34;,
              &#34;2.85215e+00&#34;,
              &#34;2.87261e+00&#34;,
              &#34;3.09019e+00&#34;,
              &#34;3.31006e+00&#34;,
              &#34;3.23652e+00&#34;,
              &#34;3.04863e+00&#34;,
              &#34;2.99097e+00&#34;,
              &#34;3.16256e+00&#34;,
              &#34;3.40294e+00&#34;
            ]
          },
          &#34;std_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.92436e+00&#34;
          },
          &#34;std_xyt&#34;: {
            &#34;ann&#34;: &#34;3.13052e+00&#34;
          }
        }
      }
    },
    &#34;units&#34;: &#34;mm/day&#34;
  },
  &#34;CanCM4&#34;: {
    &#34;default&#34;: {
      &#34;source&#34;: &#34;GPCP-Monthly-3-2&#34;,
      &#34;&#34;: {
        &#34;InputClimatologyFileName&#34;: &#34;cmip5.historical.CanCM4.r1i1p1.mon.pr.198101-200512.AC.v20200426.nc&#34;,
        &#34;Global&#34;: {
          &#34;bias_xy&#34;: {
            &#34;ann&#34;: &#34;-5.35337e-02&#34;,
            &#34;djf&#34;: &#34;-3.12924e-02&#34;,
            &#34;mam&#34;: &#34;-4.00471e-02&#34;,
            &#34;jja&#34;: &#34;-2.75896e-02&#34;,
            &#34;son&#34;: &#34;-1.14628e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;-3.09921e-02&#34;,
              &#34;-2.56221e-02&#34;,
              &#34;-6.93327e-02&#34;,
              &#34;-4.20869e-02&#34;,
              &#34;-1.03619e-02&#34;,
              &#34;-1.92844e-02&#34;,
              &#34;-1.17036e-02&#34;,
              &#34;-5.12684e-02&#34;,
              &#34;-1.12487e-01&#34;,
              &#34;-1.27240e-01&#34;,
              &#34;-1.04563e-01&#34;,
              &#34;-3.74621e-02&#34;
            ]
          },
          &#34;cor_xy&#34;: {
            &#34;ann&#34;: &#34;8.34574e-01&#34;,
            &#34;djf&#34;: &#34;8.28211e-01&#34;,
            &#34;mam&#34;: &#34;7.91875e-01&#34;,
            &#34;jja&#34;: &#34;8.35520e-01&#34;,
            &#34;son&#34;: &#34;8.05279e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;8.13470e-01&#34;,
              &#34;8.00002e-01&#34;,
              &#34;7.97410e-01&#34;,
              &#34;7.65652e-01&#34;,
              &#34;7.65074e-01&#34;,
              &#34;7.87125e-01&#34;,
              &#34;8.22792e-01&#34;,
              &#34;8.31350e-01&#34;,
              &#34;8.07272e-01&#34;,
              &#34;7.82998e-01&#34;,
              &#34;7.76582e-01&#34;,
              &#34;7.93378e-01&#34;
            ]
          },
          &#34;mae_xy&#34;: {
            &#34;ann&#34;: &#34;7.74094e-01&#34;,
            &#34;djf&#34;: &#34;9.13198e-01&#34;,
            &#34;mam&#34;: &#34;8.98531e-01&#34;,
            &#34;jja&#34;: &#34;9.14631e-01&#34;,
            &#34;son&#34;: &#34;9.76242e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;9.77430e-01&#34;,
              &#34;9.67317e-01&#34;,
              &#34;9.51678e-01&#34;,
              &#34;9.90494e-01&#34;,
              &#34;1.01565e+00&#34;,
              &#34;1.03355e+00&#34;,
              &#34;9.83975e-01&#34;,
              &#34;9.78783e-01&#34;,
              &#34;1.03162e+00&#34;,
              &#34;1.04585e+00&#34;,
              &#34;1.07235e+00&#34;,
              &#34;1.06165e+00&#34;
            ]
          },
          &#34;mean-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.81023e+00&#34;,
            &#34;djf&#34;: &#34;2.78965e+00&#34;,
            &#34;mam&#34;: &#34;2.78562e+00&#34;,
            &#34;jja&#34;: &#34;2.85401e+00&#34;,
            &#34;son&#34;: &#34;2.81134e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.79955e+00&#34;,
              &#34;2.76952e+00&#34;,
              &#34;2.79466e+00&#34;,
              &#34;2.76949e+00&#34;,
              &#34;2.79376e+00&#34;,
              &#34;2.86752e+00&#34;,
              &#34;2.85269e+00&#34;,
              &#34;2.84178e+00&#34;,
              &#34;2.82533e+00&#34;,
              &#34;2.79685e+00&#34;,
              &#34;2.81137e+00&#34;,
              &#34;2.80023e+00&#34;
            ]
          },
          &#34;mean_xy&#34;: {
            &#34;ann&#34;: &#34;2.75670e+00&#34;,
            &#34;djf&#34;: &#34;2.75836e+00&#34;,
            &#34;mam&#34;: &#34;2.74557e+00&#34;,
            &#34;jja&#34;: &#34;2.82642e+00&#34;,
            &#34;son&#34;: &#34;2.69671e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.76856e+00&#34;,
              &#34;2.74390e+00&#34;,
              &#34;2.72532e+00&#34;,
              &#34;2.72740e+00&#34;,
              &#34;2.78340e+00&#34;,
              &#34;2.84824e+00&#34;,
              &#34;2.84099e+00&#34;,
              &#34;2.79051e+00&#34;,
              &#34;2.71285e+00&#34;,
              &#34;2.66961e+00&#34;,
              &#34;2.70681e+00&#34;,
              &#34;2.76277e+00&#34;
            ]
          },
          &#34;rms_devzm&#34;: {
            &#34;ann&#34;: &#34;1.12714e+00&#34;
          },
          &#34;rms_xy&#34;: {
            &#34;ann&#34;: &#34;1.21206e+00&#34;,
            &#34;djf&#34;: &#34;1.53966e+00&#34;,
            &#34;mam&#34;: &#34;1.46098e+00&#34;,
            &#34;jja&#34;: &#34;1.53450e+00&#34;,
            &#34;son&#34;: &#34;1.56981e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.69802e+00&#34;,
              &#34;1.70946e+00&#34;,
              &#34;1.61918e+00&#34;,
              &#34;1.64185e+00&#34;,
              &#34;1.67901e+00&#34;,
              &#34;1.77292e+00&#34;,
              &#34;1.66288e+00&#34;,
              &#34;1.62590e+00&#34;,
              &#34;1.67291e+00&#34;,
              &#34;1.71732e+00&#34;,
              &#34;1.75899e+00&#34;,
              &#34;1.76610e+00&#34;
            ]
          },
          &#34;rms_xyt&#34;: {
            &#34;ann&#34;: &#34;1.69371e+00&#34;
          },
          &#34;rms_y&#34;: {
            &#34;ann&#34;: &#34;4.45698e-01&#34;
          },
          &#34;rmsc_xy&#34;: {
            &#34;ann&#34;: &#34;1.21088e+00&#34;,
            &#34;djf&#34;: &#34;1.53935e+00&#34;,
            &#34;mam&#34;: &#34;1.46043e+00&#34;,
            &#34;jja&#34;: &#34;1.53426e+00&#34;,
            &#34;son&#34;: &#34;1.56562e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.69773e+00&#34;,
              &#34;1.70927e+00&#34;,
              &#34;1.61770e+00&#34;,
              &#34;1.64131e+00&#34;,
              &#34;1.67898e+00&#34;,
              &#34;1.77281e+00&#34;,
              &#34;1.66283e+00&#34;,
              &#34;1.62509e+00&#34;,
              &#34;1.66912e+00&#34;,
              &#34;1.71260e+00&#34;,
              &#34;1.75588e+00&#34;,
              &#34;1.76570e+00&#34;
            ]
          },
          &#34;std-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.00595e+00&#34;,
            &#34;djf&#34;: &#34;2.46391e+00&#34;,
            &#34;mam&#34;: &#34;2.13342e+00&#34;,
            &#34;jja&#34;: &#34;2.63913e+00&#34;,
            &#34;son&#34;: &#34;2.31686e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.59576e+00&#34;,
              &#34;2.51661e+00&#34;,
              &#34;2.34084e+00&#34;,
              &#34;2.22530e+00&#34;,
              &#34;2.33491e+00&#34;,
              &#34;2.70020e+00&#34;,
              &#34;2.75700e+00&#34;,
              &#34;2.73490e+00&#34;,
              &#34;2.52093e+00&#34;,
              &#34;2.40951e+00&#34;,
              &#34;2.45659e+00&#34;,
              &#34;2.53315e+00&#34;
            ]
          },
          &#34;std-obs_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.64066e+00&#34;
          },
          &#34;std-obs_xyt&#34;: {
            &#34;ann&#34;: &#34;2.51577e+00&#34;
          },
          &#34;std_xy&#34;: {
            &#34;ann&#34;: &#34;2.16914e+00&#34;,
            &#34;djf&#34;: &#34;2.72103e+00&#34;,
            &#34;mam&#34;: &#34;2.34929e+00&#34;,
            &#34;jja&#34;: &#34;2.70621e+00&#34;,
            &#34;son&#34;: &#34;2.61686e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.88815e+00&#34;,
              &#34;2.81431e+00&#34;,
              &#34;2.65505e+00&#34;,
              &#34;2.50686e+00&#34;,
              &#34;2.53359e+00&#34;,
              &#34;2.73293e+00&#34;,
              &#34;2.82501e+00&#34;,
              &#34;2.84879e+00&#34;,
              &#34;2.79165e+00&#34;,
              &#34;2.71530e+00&#34;,
              &#34;2.73706e+00&#34;,
              &#34;2.86993e+00&#34;
            ]
          },
          &#34;std_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.68427e+00&#34;
          },
          &#34;std_xyt&#34;: {
            &#34;ann&#34;: &#34;2.74629e+00&#34;
          }
        },
        &#34;global&#34;: {
          &#34;bias_xy&#34;: {
            &#34;ann&#34;: &#34;-5.35337e-02&#34;,
            &#34;djf&#34;: &#34;-3.12924e-02&#34;,
            &#34;mam&#34;: &#34;-4.00471e-02&#34;,
            &#34;jja&#34;: &#34;-2.75896e-02&#34;,
            &#34;son&#34;: &#34;-1.14628e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;-3.09921e-02&#34;,
              &#34;-2.56221e-02&#34;,
              &#34;-6.93327e-02&#34;,
              &#34;-4.20869e-02&#34;,
              &#34;-1.03619e-02&#34;,
              &#34;-1.92844e-02&#34;,
              &#34;-1.17036e-02&#34;,
              &#34;-5.12684e-02&#34;,
              &#34;-1.12487e-01&#34;,
              &#34;-1.27240e-01&#34;,
              &#34;-1.04563e-01&#34;,
              &#34;-3.74621e-02&#34;
            ]
          },
          &#34;cor_xy&#34;: {
            &#34;ann&#34;: &#34;8.34574e-01&#34;,
            &#34;djf&#34;: &#34;8.28211e-01&#34;,
            &#34;mam&#34;: &#34;7.91875e-01&#34;,
            &#34;jja&#34;: &#34;8.35520e-01&#34;,
            &#34;son&#34;: &#34;8.05279e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;8.13470e-01&#34;,
              &#34;8.00002e-01&#34;,
              &#34;7.97410e-01&#34;,
              &#34;7.65652e-01&#34;,
              &#34;7.65074e-01&#34;,
              &#34;7.87125e-01&#34;,
              &#34;8.22792e-01&#34;,
              &#34;8.31350e-01&#34;,
              &#34;8.07272e-01&#34;,
              &#34;7.82998e-01&#34;,
              &#34;7.76582e-01&#34;,
              &#34;7.93378e-01&#34;
            ]
          },
          &#34;mae_xy&#34;: {
            &#34;ann&#34;: &#34;7.74094e-01&#34;,
            &#34;djf&#34;: &#34;9.13198e-01&#34;,
            &#34;mam&#34;: &#34;8.98531e-01&#34;,
            &#34;jja&#34;: &#34;9.14631e-01&#34;,
            &#34;son&#34;: &#34;9.76242e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;9.77430e-01&#34;,
              &#34;9.67317e-01&#34;,
              &#34;9.51678e-01&#34;,
              &#34;9.90494e-01&#34;,
              &#34;1.01565e+00&#34;,
              &#34;1.03355e+00&#34;,
              &#34;9.83975e-01&#34;,
              &#34;9.78783e-01&#34;,
              &#34;1.03162e+00&#34;,
              &#34;1.04585e+00&#34;,
              &#34;1.07235e+00&#34;,
              &#34;1.06165e+00&#34;
            ]
          },
          &#34;mean-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.81023e+00&#34;,
            &#34;djf&#34;: &#34;2.78965e+00&#34;,
            &#34;mam&#34;: &#34;2.78562e+00&#34;,
            &#34;jja&#34;: &#34;2.85401e+00&#34;,
            &#34;son&#34;: &#34;2.81134e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.79955e+00&#34;,
              &#34;2.76952e+00&#34;,
              &#34;2.79466e+00&#34;,
              &#34;2.76949e+00&#34;,
              &#34;2.79376e+00&#34;,
              &#34;2.86752e+00&#34;,
              &#34;2.85269e+00&#34;,
              &#34;2.84178e+00&#34;,
              &#34;2.82533e+00&#34;,
              &#34;2.79685e+00&#34;,
              &#34;2.81137e+00&#34;,
              &#34;2.80023e+00&#34;
            ]
          },
          &#34;mean_xy&#34;: {
            &#34;ann&#34;: &#34;2.75670e+00&#34;,
            &#34;djf&#34;: &#34;2.75836e+00&#34;,
            &#34;mam&#34;: &#34;2.74557e+00&#34;,
            &#34;jja&#34;: &#34;2.82642e+00&#34;,
            &#34;son&#34;: &#34;2.69671e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.76856e+00&#34;,
              &#34;2.74390e+00&#34;,
              &#34;2.72532e+00&#34;,
              &#34;2.72740e+00&#34;,
              &#34;2.78340e+00&#34;,
              &#34;2.84824e+00&#34;,
              &#34;2.84099e+00&#34;,
              &#34;2.79051e+00&#34;,
              &#34;2.71285e+00&#34;,
              &#34;2.66961e+00&#34;,
              &#34;2.70681e+00&#34;,
              &#34;2.76277e+00&#34;
            ]
          },
          &#34;rms_devzm&#34;: {
            &#34;ann&#34;: &#34;1.12714e+00&#34;
          },
          &#34;rms_xy&#34;: {
            &#34;ann&#34;: &#34;1.21206e+00&#34;,
            &#34;djf&#34;: &#34;1.53966e+00&#34;,
            &#34;mam&#34;: &#34;1.46098e+00&#34;,
            &#34;jja&#34;: &#34;1.53450e+00&#34;,
            &#34;son&#34;: &#34;1.56981e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.69802e+00&#34;,
              &#34;1.70946e+00&#34;,
              &#34;1.61918e+00&#34;,
              &#34;1.64185e+00&#34;,
              &#34;1.67901e+00&#34;,
              &#34;1.77292e+00&#34;,
              &#34;1.66288e+00&#34;,
              &#34;1.62590e+00&#34;,
              &#34;1.67291e+00&#34;,
              &#34;1.71732e+00&#34;,
              &#34;1.75899e+00&#34;,
              &#34;1.76610e+00&#34;
            ]
          },
          &#34;rms_xyt&#34;: {
            &#34;ann&#34;: &#34;1.69371e+00&#34;
          },
          &#34;rms_y&#34;: {
            &#34;ann&#34;: &#34;4.45698e-01&#34;
          },
          &#34;rmsc_xy&#34;: {
            &#34;ann&#34;: &#34;1.21088e+00&#34;,
            &#34;djf&#34;: &#34;1.53935e+00&#34;,
            &#34;mam&#34;: &#34;1.46043e+00&#34;,
            &#34;jja&#34;: &#34;1.53426e+00&#34;,
            &#34;son&#34;: &#34;1.56562e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.69773e+00&#34;,
              &#34;1.70927e+00&#34;,
              &#34;1.61770e+00&#34;,
              &#34;1.64131e+00&#34;,
              &#34;1.67898e+00&#34;,
              &#34;1.77281e+00&#34;,
              &#34;1.66283e+00&#34;,
              &#34;1.62509e+00&#34;,
              &#34;1.66912e+00&#34;,
              &#34;1.71260e+00&#34;,
              &#34;1.75588e+00&#34;,
              &#34;1.76570e+00&#34;
            ]
          },
          &#34;std-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.00595e+00&#34;,
            &#34;djf&#34;: &#34;2.46391e+00&#34;,
            &#34;mam&#34;: &#34;2.13342e+00&#34;,
            &#34;jja&#34;: &#34;2.63913e+00&#34;,
            &#34;son&#34;: &#34;2.31686e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.59576e+00&#34;,
              &#34;2.51661e+00&#34;,
              &#34;2.34084e+00&#34;,
              &#34;2.22530e+00&#34;,
              &#34;2.33491e+00&#34;,
              &#34;2.70020e+00&#34;,
              &#34;2.75700e+00&#34;,
              &#34;2.73490e+00&#34;,
              &#34;2.52093e+00&#34;,
              &#34;2.40951e+00&#34;,
              &#34;2.45659e+00&#34;,
              &#34;2.53315e+00&#34;
            ]
          },
          &#34;std-obs_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.64066e+00&#34;
          },
          &#34;std-obs_xyt&#34;: {
            &#34;ann&#34;: &#34;2.51577e+00&#34;
          },
          &#34;std_xy&#34;: {
            &#34;ann&#34;: &#34;2.16914e+00&#34;,
            &#34;djf&#34;: &#34;2.72103e+00&#34;,
            &#34;mam&#34;: &#34;2.34929e+00&#34;,
            &#34;jja&#34;: &#34;2.70621e+00&#34;,
            &#34;son&#34;: &#34;2.61686e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.88815e+00&#34;,
              &#34;2.81431e+00&#34;,
              &#34;2.65505e+00&#34;,
              &#34;2.50686e+00&#34;,
              &#34;2.53359e+00&#34;,
              &#34;2.73293e+00&#34;,
              &#34;2.82501e+00&#34;,
              &#34;2.84879e+00&#34;,
              &#34;2.79165e+00&#34;,
              &#34;2.71530e+00&#34;,
              &#34;2.73706e+00&#34;,
              &#34;2.86993e+00&#34;
            ]
          },
          &#34;std_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.68427e+00&#34;
          },
          &#34;std_xyt&#34;: {
            &#34;ann&#34;: &#34;2.74629e+00&#34;
          }
        }
      }
    },
    &#34;units&#34;: &#34;mm/day&#34;
  }
}
</pre></div></div>
</div>
</section>
<section id="Customizing-parameters-in-the-mean-climate-driver">
<h2>Customizing parameters in the mean climate driver<a class="headerlink" href="#Customizing-parameters-in-the-mean-climate-driver" title="Link to this heading"></a></h2>
<p>It is possible to override the parameter file from the command line. Use <code class="docutils literal notranslate"><span class="pre">mean_climate_driver.py</span> <span class="pre">--help</span></code> to see all the flag options.</p>
<p>This next cell demonstrates how to change ‘case_id’ and ‘regrid_tool’ on the command line. Changing the ‘case_id’ is helpful because these results will be stored in a folder with that name, separate from other runs.</p>
<p>Both the model data sets and observations are regridded to a 2.5 by 2.5 degree grid before producing statistics. Interpolation of the different grid is conducted by <a class="reference external" href="http://pcmdi.github.io/pcmdi_metrics/generated/pcmdi_metrics.utils.create_target_grid.html#pcmdi_metrics.utils.create_target_grid">creating a target grid</a> and <a class="reference external" href="http://pcmdi.github.io/pcmdi_metrics/generated/pcmdi_metrics.utils.regrid.html#pcmdi_metrics.utils.regrid">regridding</a> it.</p>
<p>The two regrid tools available are ‘regrid2’ and <a class="reference external" href="https://xesmf.readthedocs.io/en/latest/">‘xesmf’</a>. ‘regrid2’ is recommended, but ‘xesmf’ must be used with non-rectangular grids. See <a class="reference external" href="http://pcmdi.github.io/pcmdi_metrics/generated/pcmdi_metrics.utils.regrid.html#pcmdi_metrics.utils.regrid">regrid</a> function for more details.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># for conda</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">import sys</span>
<span class="sd">!conda install --yes --prefix {sys.prefix} -c conda-forge xesmf</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;\nimport sys\n!conda install --yes --prefix {sys.prefix} -c conda-forge xesmf\n&#39;
</pre></div></div>
</div>
<p>OR delete the triple quotations on lines 2&amp;5 from this cell to install with pip:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># for pip</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">import sys</span>
<span class="sd">!{sys.executable} -m pip install git+https://github.com/pangeo-data/xesmf.git</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;\nimport sys\n!{sys.executable} -m pip install git+https://github.com/pangeo-data/xesmf.git\n&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w">  </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span>--case_id<span class="w"> </span><span class="s1">&#39;Ex2&#39;</span><span class="w"> </span>--regrid_tool<span class="w"> </span><span class="s1">&#39;xesmf&#39;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex2
test_data_set: [&#39;ACCESS1-0&#39;, &#39;CanCM4&#39;]
realization:
vars: [&#39;pr&#39;]
varname_in_test_data: None
reference_data_set: [&#39;all&#39;]
target_grid: 2.5x2.5
regrid_tool: xesmf
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;EA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SCA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;pr&#39;: [&#39;global&#39;], &#39;rlut&#39;: [&#39;global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/PMP_obs4MIPsClims
custom_observations: demo_data_tmp/PMP_obs4MIPsClims/PMP_obs4MIPsClims_catalogue_byVar_v20250305.json
metrics_output_path: demo_output_tmp/Ex2
diagnostics_output_path: demo_output_tmp/Ex2
debug: False
--- start mean climate metrics calculation ---
varname: pr
level: None
reference_data_set (all):  [&#39;default&#39;]
No &#39;default&#39; reference found, using the only available reference: GPCP-Monthly-3-2 for variable &#39;pr&#39;
obs_dict (for variable): pr
{&#39;GPCP-Monthly-3-2&#39;: {&#39;filename&#39;: &#39;pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc&#39;,
                      &#39;template&#39;: &#39;pr/gr/v20250211/pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc&#39;},
 &#39;default&#39;: &#39;GPCP-Monthly-3-2&#39;}
obs_dict (for variable) keys: dict_keys([&#39;GPCP-Monthly-3-2&#39;, &#39;default&#39;])
ref: default
ref_data_full_path: demo_data_tmp/PMP_obs4MIPsClims/pr/gr/v20250211/pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:16:00,743 [WARNING]: dataset.py(open_dataset:119) &gt;&gt; &#34;No time coordinates were found in this dataset to decode. If time coordinates were expected to exist, make sure they are detectable by setting the CF &#39;axis&#39; or &#39;standard_name&#39; attribute (e.g., ds[&#39;time&#39;].attrs[&#39;axis&#39;] = &#39;T&#39; or ds[&#39;time&#39;].attrs[&#39;standard_name&#39;] = &#39;time&#39;). Afterwards, try decoding again with `xcdat.decode_time`.&#34;
2025-09-09 13:16:00,743 [WARNING]: dataset.py(open_dataset:119) &gt;&gt; &#34;No time coordinates were found in this dataset to decode. If time coordinates were expected to exist, make sure they are detectable by setting the CF &#39;axis&#39; or &#39;standard_name&#39; attribute (e.g., ds[&#39;time&#39;].attrs[&#39;axis&#39;] = &#39;T&#39; or ds[&#39;time&#39;].attrs[&#39;standard_name&#39;] = &#39;time&#39;). Afterwards, try decoding again with `xcdat.decode_time`.&#34;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.pr.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:16:02,023 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:16:02,023 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
load and regrid done
region: global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: pr
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 1.9344141720039378
metrics, stdObs_xyt
metrics, stdObs_xyt: 2.51577488130445
metrics, std_xyt
metrics, std_xyt: 3.2480085962792056
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 0.26074034921825784
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 0.7564724405551873
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  1.283885266408968 1.2571593215055799
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8725538275833443
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2025-09-09 13:17::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/pr/pr_ACCESS1-0__2.5x2.5_xesmf_metrics_default_Ex2.json
2025-09-09 13:17:33,171 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/pr/pr_ACCESS1-0__2.5x2.5_xesmf_metrics_default_Ex2.json
2025-09-09 13:17:33,171 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/pr/pr_ACCESS1-0__2.5x2.5_xesmf_metrics_default_Ex2.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.pr.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:17:33,209 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:17:33,209 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
load and regrid done
region: global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: pr
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 1.6830775064682777
metrics, stdObs_xyt
metrics, stdObs_xyt: 2.51577488130445
metrics, std_xyt
metrics, std_xyt: 2.7337599992833104
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -0.058910717845545676
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 0.772693128990387
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  1.207058394385366 1.2056687503112526
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8354938765188579
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2025-09-09 13:19::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/pr/pr_CanCM4__2.5x2.5_xesmf_metrics_default_Ex2.json
2025-09-09 13:19:00,832 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/pr/pr_CanCM4__2.5x2.5_xesmf_metrics_default_Ex2.json
2025-09-09 13:19:00,832 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/pr/pr_CanCM4__2.5x2.5_xesmf_metrics_default_Ex2.json
INFO::2025-09-09 13:19::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/pr_2.5x2.5_xesmf_metrics_Ex2.json
2025-09-09 13:19:00,842 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/pr_2.5x2.5_xesmf_metrics_Ex2.json
2025-09-09 13:19:00,842 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/pr_2.5x2.5_xesmf_metrics_Ex2.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
<section id="Specifying-the-model-and/or-variable">
<h3>Specifying the model and/or variable<a class="headerlink" href="#Specifying-the-model-and/or-variable" title="Link to this heading"></a></h3>
<p>It is easy to change the models or variables in the analysis. Whatever variables you choose must be present in both your model files and obervations. This example shows how to specify a variable while running only the ACCESS1-0 model.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span>--case_id<span class="w"> </span><span class="s1">&#39;Ex3&#39;</span><span class="w"> </span>--test_data_set<span class="w"> </span><span class="s1">&#39;ACCESS1-0&#39;</span><span class="w"> </span>--vars<span class="w"> </span><span class="s2">&quot;rlut&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex3
test_data_set: [&#39;ACCESS1-0&#39;]
realization:
vars: [&#39;rlut&#39;]
varname_in_test_data: None
reference_data_set: [&#39;all&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;EA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SCA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;pr&#39;: [&#39;global&#39;], &#39;rlut&#39;: [&#39;global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/PMP_obs4MIPsClims
custom_observations: demo_data_tmp/PMP_obs4MIPsClims/PMP_obs4MIPsClims_catalogue_byVar_v20250305.json
metrics_output_path: demo_output_tmp/Ex3
diagnostics_output_path: demo_output_tmp/Ex3
debug: False
--- start mean climate metrics calculation ---
varname: rlut
level: None
reference_data_set (all):  [&#39;default&#39;]
No &#39;default&#39; reference found, using the only available reference: CERES-EBAF-4-2 for variable &#39;rlut&#39;
obs_dict (for variable): rlut
{&#39;CERES-EBAF-4-2&#39;: {&#39;filename&#39;: &#39;rlut_mon_CERES-EBAF-4-2_RSS_gr_200101-200412_AC_v20250213_2.5x2.5.nc&#39;,
                    &#39;template&#39;: &#39;rlut/gr/v20250213/rlut_mon_CERES-EBAF-4-2_RSS_gr_200101-200412_AC_v20250213_2.5x2.5.nc&#39;},
 &#39;default&#39;: &#39;CERES-EBAF-4-2&#39;}
obs_dict (for variable) keys: dict_keys([&#39;CERES-EBAF-4-2&#39;, &#39;default&#39;])
ref: default
ref_data_full_path: demo_data_tmp/PMP_obs4MIPsClims/rlut/gr/v20250213/rlut_mon_CERES-EBAF-4-2_RSS_gr_200101-200412_AC_v20250213_2.5x2.5.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:19:25,948 [WARNING]: dataset.py(open_dataset:119) &gt;&gt; &#34;No time coordinates were found in this dataset to decode. If time coordinates were expected to exist, make sure they are detectable by setting the CF &#39;axis&#39; or &#39;standard_name&#39; attribute (e.g., ds[&#39;time&#39;].attrs[&#39;axis&#39;] = &#39;T&#39; or ds[&#39;time&#39;].attrs[&#39;standard_name&#39;] = &#39;time&#39;). Afterwards, try decoding again with `xcdat.decode_time`.&#34;
2025-09-09 13:19:25,948 [WARNING]: dataset.py(open_dataset:119) &gt;&gt; &#34;No time coordinates were found in this dataset to decode. If time coordinates were expected to exist, make sure they are detectable by setting the CF &#39;axis&#39; or &#39;standard_name&#39; attribute (e.g., ds[&#39;time&#39;].attrs[&#39;axis&#39;] = &#39;T&#39; or ds[&#39;time&#39;].attrs[&#39;standard_name&#39;] = &#39;time&#39;). Afterwards, try decoding again with `xcdat.decode_time`.&#34;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:19:27,022 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:19:27,022 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;units&#39;
units:
load and regrid done
region: global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 11.791447954935457
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.71355661656617
metrics, std_xyt
metrics, std_xyt: 36.43801723294731
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 1.0915958138582547
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 5.653094771128026
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  7.933462990090216 7.858005700831369
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9700363583480752
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2025-09-09 13:20::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex3.json
2025-09-09 13:20:18,824 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex3.json
2025-09-09 13:20:18,824 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex3.json
INFO::2025-09-09 13:20::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut_2.5x2.5_regrid2_metrics_Ex3.json
2025-09-09 13:20:18,829 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut_2.5x2.5_regrid2_metrics_Ex3.json
2025-09-09 13:20:18,829 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut_2.5x2.5_regrid2_metrics_Ex3.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
</section>
<section id="Specifying-the-observation">
<h3>Specifying the observation<a class="headerlink" href="#Specifying-the-observation" title="Link to this heading"></a></h3>
<p>This section demonstrates use of alternative reference dataset, which was downloaded from <a class="reference external" href="http://pcmdi.github.io/pcmdi_metrics/examples/Demo_0_download_data.html">Demo 0</a>. There are several sets of observations available in this alternative dataset. This case uses the ‘alternate1’ observations for zg with the flag <code class="docutils literal notranslate"><span class="pre">reference_data_set</span></code>. The test and observations path are specified with <code class="docutils literal notranslate"><span class="pre">test_data_path</span></code> and <code class="docutils literal notranslate"><span class="pre">reference_data_path</span></code>, respectively.</p>
<p>To see which datasets are the default and which are alternates, check out <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/main/doc/obs_info_dictionary.json">pcmdi_metrics/doc/obs_info_dictionary.json</a>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download https://raw.githubusercontent.com/PCMDI/pcmdi_metrics/refs/heads/main/doc/obs_info_dictionary.json file</span>
<span class="o">!</span>wget<span class="w"> </span>https://raw.githubusercontent.com/PCMDI/pcmdi_metrics/refs/heads/main/doc/obs_info_dictionary.json
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
/bin/bash: wget: command not found
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span><span class="err">\</span>
<span class="o">--</span><span class="n">case_id</span> <span class="s1">&#39;Ex3_2&#39;</span> \
<span class="o">--</span><span class="nb">vars</span> <span class="s1">&#39;zg-500&#39;</span> \
<span class="o">--</span><span class="n">test_data_set</span> <span class="s1">&#39;ACCESS1-0&#39;</span> \
<span class="o">--</span><span class="n">custom_observations</span> <span class="s1">&#39;obs_info_dictionary.json&#39;</span> \
<span class="o">--</span><span class="n">reference_data_path</span> <span class="p">{</span><span class="n">demo_data_directory</span><span class="p">}</span><span class="o">/</span><span class="n">obs4MIPs_PCMDI_clims</span> \
<span class="o">--</span><span class="n">reference_data_set</span> <span class="s2">&quot;alternate1&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex3_2
test_data_set: [&#39;ACCESS1-0&#39;]
realization:
vars: [&#39;zg-500&#39;]
varname_in_test_data: None
reference_data_set: [&#39;alternate1&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;EA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SCA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;pr&#39;: [&#39;global&#39;], &#39;rlut&#39;: [&#39;global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/obs4MIPs_PCMDI_clims
custom_observations: obs_info_dictionary.json
metrics_output_path: demo_output_tmp/Ex3_2
diagnostics_output_path: demo_output_tmp/Ex3_2
debug: False
--- start mean climate metrics calculation ---
varname: zg
level: 500.0
obs_dict (for variable): zg
{&#39;ERA-5&#39;: {&#39;CMIP_CMOR_TABLE&#39;: &#39;Amon&#39;,
           &#39;MD5sum&#39;: &#39;40da2ed461a8f9351a4568acd0f50cb5&#39;,
           &#39;RefTrackingDate&#39;: &#39;Thu Aug  5 08:58:01 2021&#39;,
           &#39;filename&#39;: &#39;zg_mon_ERA-5_PCMDI_1x1.200301-201812.AC.v20210805.nc&#39;,
           &#39;period&#39;: &#39;200301-201812&#39;,
           &#39;shape&#39;: &#39;(12, 37, 180, 360)&#39;,
           &#39;template&#39;: &#39;zg/ERA-5/v20210805/zg_mon_ERA-5_PCMDI_1x1.200301-201812.AC.v20210805.nc&#39;},
 &#39;ERA-INT&#39;: {&#39;CMIP_CMOR_TABLE&#39;: &#39;Amon&#39;,
             &#39;MD5sum&#39;: &#39;46535764dd4c32912944678eb0aa65c3&#39;,
             &#39;RefTrackingDate&#39;: &#39;Wed Aug  4 12:22:43 2021&#39;,
             &#39;filename&#39;: &#39;zg_mon_ERA-INT_PCMDI_gn.200301-201812.AC.v20210804.nc&#39;,
             &#39;period&#39;: &#39;200301-201812&#39;,
             &#39;shape&#39;: &#39;(12, 19, 121, 240)&#39;,
             &#39;template&#39;: &#39;zg/ERA-INT/v20210804/zg_mon_ERA-INT_PCMDI_gn.200301-201812.AC.v20210804.nc&#39;},
 &#39;alternate1&#39;: &#39;ERA-INT&#39;,
 &#39;default&#39;: &#39;ERA-5&#39;}
obs_dict (for variable) keys: dict_keys([&#39;ERA-5&#39;, &#39;ERA-INT&#39;, &#39;alternate1&#39;, &#39;default&#39;])
ref: alternate1
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/zg/ERA-INT/v20210804/zg_mon_ERA-INT_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.zg.198101-200512.AC.v20200426.nc
2025-09-09 13:20:38,256 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:20:38,256 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
&#39;units&#39;
units:
load and regrid done
region: global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 29.708160160722972
metrics, stdObs_xyt
metrics, stdObs_xyt: 266.7884899432676
metrics, std_xyt
metrics, std_xyt: 260.4118743486071
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -18.490286230051346
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 20.044431416994183
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  22.220812240259725 12.323709333948319
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9993223739412462
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
INFO::2025-09-09 13:21::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
2025-09-09 13:21:22,069 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
2025-09-09 13:21:22,069 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
region: NHEX
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 35.944308318380955
metrics, stdObs_xyt
metrics, stdObs_xyt: 217.77101191168182
metrics, std_xyt
metrics, std_xyt: 216.56203568104905
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -16.967675605917073
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 18.844120667780064
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  22.87730798027294 15.345005863687986
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9971859315927925
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
INFO::2025-09-09 13:22::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
2025-09-09 13:22:04,832 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
2025-09-09 13:22:04,832 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
region: SHEX
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 30.66407400928915
metrics, stdObs_xyt
metrics, stdObs_xyt: 283.2198853808546
metrics, std_xyt
metrics, std_xyt: 274.1415114863988
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -10.387355807400851
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 14.727491493309167
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  17.284152791354128 13.814658050249681
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.999412785843536
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
INFO::2025-09-09 13:22::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
2025-09-09 13:22:45,885 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
2025-09-09 13:22:45,885 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
region: TROPICS
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 24.95835495100179
metrics, stdObs_xyt
metrics, stdObs_xyt: 28.365941345001204
metrics, std_xyt
metrics, std_xyt: 30.886205201421348
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -23.30305675344571
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 23.30305675344571
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  24.009839944577603 5.782729468854931
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9711651662455989
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
INFO::2025-09-09 13:23::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
2025-09-09 13:23:27,603 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
2025-09-09 13:23:27,603 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500/zg-500_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
INFO::2025-09-09 13:23::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500_2.5x2.5_regrid2_metrics_Ex3_2.json
2025-09-09 13:23:27,607 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500_2.5x2.5_regrid2_metrics_Ex3_2.json
2025-09-09 13:23:27,607 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/zg-500_2.5x2.5_regrid2_metrics_Ex3_2.json
pmp mean clim driver completed

</pre></div></div>
</div>
</section>
<section id="Using-custom-regions">
<h3>Using custom regions<a class="headerlink" href="#Using-custom-regions" title="Link to this heading"></a></h3>
<p>The predefined regions that can be set by the <code class="docutils literal notranslate"><span class="pre">--regions</span></code> flag can be found in <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/master/share/default_regions.py">default_regions.py</a>. By default, the mean climate driver will run “global”, “NHEX”, “SHEX”, and “TROPICS”.</p>
<p>This example specifies customized additional regions for the analysis. Region can be named as “MyDomain”, “MyDomain_ocean” (for over ocean only) or “MyDomain_land” (for over land only). The driver will recognize “_ocean” or “_land” keywords to mask out land or ocean.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span><span class="se">\</span>
--case_id<span class="w"> </span><span class="s1">&#39;Ex4&#39;</span><span class="w"> </span>--regions<span class="w"> </span><span class="s1">&#39;{&quot;pr&quot;: [&quot;MyDomain_ocean&quot;]}&#39;</span><span class="w"> </span><span class="se">\</span>
--regions_specs<span class="w"> </span><span class="s2">&quot;{&#39;MyDomain_ocean&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20, 40), &#39;longitude&#39;:(90, 260)}}}&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex4
test_data_set: [&#39;ACCESS1-0&#39;, &#39;CanCM4&#39;]
realization:
vars: [&#39;pr&#39;]
varname_in_test_data: None
reference_data_set: [&#39;all&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;MyDomain_ocean&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20, 40), &#39;longitude&#39;: (90, 260)}}}
regions: {&#39;pr&#39;: [&#39;MyDomain_ocean&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/PMP_obs4MIPsClims
custom_observations: demo_data_tmp/PMP_obs4MIPsClims/PMP_obs4MIPsClims_catalogue_byVar_v20250305.json
metrics_output_path: demo_output_tmp/Ex4
diagnostics_output_path: demo_output_tmp/Ex4
debug: False
--- start mean climate metrics calculation ---
varname: pr
level: None
reference_data_set (all):  [&#39;default&#39;]
No &#39;default&#39; reference found, using the only available reference: GPCP-Monthly-3-2 for variable &#39;pr&#39;
obs_dict (for variable): pr
{&#39;GPCP-Monthly-3-2&#39;: {&#39;filename&#39;: &#39;pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc&#39;,
                      &#39;template&#39;: &#39;pr/gr/v20250211/pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc&#39;},
 &#39;default&#39;: &#39;GPCP-Monthly-3-2&#39;}
obs_dict (for variable) keys: dict_keys([&#39;GPCP-Monthly-3-2&#39;, &#39;default&#39;])
ref: default
ref_data_full_path: demo_data_tmp/PMP_obs4MIPsClims/pr/gr/v20250211/pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:23:43,760 [WARNING]: dataset.py(open_dataset:119) &gt;&gt; &#34;No time coordinates were found in this dataset to decode. If time coordinates were expected to exist, make sure they are detectable by setting the CF &#39;axis&#39; or &#39;standard_name&#39; attribute (e.g., ds[&#39;time&#39;].attrs[&#39;axis&#39;] = &#39;T&#39; or ds[&#39;time&#39;].attrs[&#39;standard_name&#39;] = &#39;time&#39;). Afterwards, try decoding again with `xcdat.decode_time`.&#34;
2025-09-09 13:23:43,760 [WARNING]: dataset.py(open_dataset:119) &gt;&gt; &#34;No time coordinates were found in this dataset to decode. If time coordinates were expected to exist, make sure they are detectable by setting the CF &#39;axis&#39; or &#39;standard_name&#39; attribute (e.g., ds[&#39;time&#39;].attrs[&#39;axis&#39;] = &#39;T&#39; or ds[&#39;time&#39;].attrs[&#39;standard_name&#39;] = &#39;time&#39;). Afterwards, try decoding again with `xcdat.decode_time`.&#34;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.pr.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:23:44,412 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:23:44,412 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
load and regrid done
region: MyDomain_ocean
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:23:45,614 [WARNING]: bounds.py(add_missing_bounds:192) &gt;&gt; Bounds cannot be created for &#39;time&#39; coordinates because it is not decoded as `cftime.datetime` or `np.datetime`. Try decoding &#39;time&#39; first then adding bounds.
2025-09-09 13:23:45,614 [WARNING]: bounds.py(add_missing_bounds:192) &gt;&gt; Bounds cannot be created for &#39;time&#39; coordinates because it is not decoded as `cftime.datetime` or `np.datetime`. Try decoding &#39;time&#39; first then adding bounds.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
mask done
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: pr
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 2.6861180272077845
metrics, stdObs_xyt
metrics, stdObs_xyt: 3.0943294252755345
metrics, std_xyt
metrics, std_xyt: 4.377531678944773
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 0.7067869004052657
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 1.2139268998744193
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  1.7797276040540457 1.6333654282026018
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8867825257358317
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2025-09-09 13:24::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/pr/pr_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex4.json
2025-09-09 13:24:19,926 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/pr/pr_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex4.json
2025-09-09 13:24:19,926 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/pr/pr_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex4.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.pr.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:24:20,049 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:24:20,049 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
load and regrid done
region: MyDomain_ocean
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:24:20,807 [WARNING]: bounds.py(add_missing_bounds:192) &gt;&gt; Bounds cannot be created for &#39;time&#39; coordinates because it is not decoded as `cftime.datetime` or `np.datetime`. Try decoding &#39;time&#39; first then adding bounds.
2025-09-09 13:24:20,807 [WARNING]: bounds.py(add_missing_bounds:192) &gt;&gt; Bounds cannot be created for &#39;time&#39; coordinates because it is not decoded as `cftime.datetime` or `np.datetime`. Try decoding &#39;time&#39; first then adding bounds.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
mask done
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: pr
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 2.2329921410578577
metrics, stdObs_xyt
metrics, stdObs_xyt: 3.0943294252755345
metrics, std_xyt
metrics, std_xyt: 3.7353502078628646
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 0.6094173427413772
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 1.1156627939627723
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  1.517734986814394 1.3900107886511264
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8764736221859271
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2025-09-09 13:24::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/pr/pr_CanCM4__2.5x2.5_regrid2_metrics_default_Ex4.json
2025-09-09 13:24:51,405 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/pr/pr_CanCM4__2.5x2.5_regrid2_metrics_default_Ex4.json
2025-09-09 13:24:51,405 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/pr/pr_CanCM4__2.5x2.5_regrid2_metrics_default_Ex4.json
INFO::2025-09-09 13:24::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/pr_2.5x2.5_regrid2_metrics_Ex4.json
2025-09-09 13:24:51,410 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/pr_2.5x2.5_regrid2_metrics_Ex4.json
2025-09-09 13:24:51,410 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/pr_2.5x2.5_regrid2_metrics_Ex4.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># path to images</span>
<span class="n">image_path_djf</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">demo_output_directory</span><span class="p">,</span><span class="s2">&quot;Ex4/pr/pr_ACCESS1-0__interpolated_regrid2_MyDomain_ocean_DJF_Ex4.png&quot;</span><span class="p">)</span>
<span class="n">image_path_jja</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">demo_output_directory</span><span class="p">,</span><span class="s2">&quot;Ex4/pr/pr_ACCESS1-0__interpolated_regrid2_MyDomain_ocean_JJA_Ex4.png&quot;</span><span class="p">)</span>

<span class="c1"># display images</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">);</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image_path_djf</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image_path_jja</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.image.AxesImage at 0x172290a30&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_Demo_1b_mean_climate_28_1.png" src="../_images/examples_Demo_1b_mean_climate_28_1.png" />
</div>
</div>
<p>The region value <code class="docutils literal notranslate"><span class="pre">None</span></code> is another way of indicating “global”</p>
<p>Custom domain is controlled by the variable <code class="docutils literal notranslate"><span class="pre">regions_specs</span></code> in the parameter file or command line. For example, a custom region for Antarctica over land could be defined with <code class="docutils literal notranslate"><span class="pre">regions_specs</span> <span class="pre">=</span> <span class="pre">{'ANT':</span> <span class="pre">{'value':</span> <span class="pre">100,</span> <span class="pre">'domain':</span> <span class="pre">{'latitude':</span> <span class="pre">(-90,</span> <span class="pre">-60)}}}</span></code> in the parameter file. <code class="docutils literal notranslate"><span class="pre">value</span></code> indicate masking, 100: land only, 0: ocean only.</p>
<p>The command to use the custom region would look like <code class="docutils literal notranslate"><span class="pre">--regions</span> <span class="pre">'{&quot;rlut&quot;:</span> <span class="pre">[&quot;ANT&quot;]}'</span></code> in the command line or <code class="docutils literal notranslate"><span class="pre">regions</span> <span class="pre">=</span> <span class="pre">{&quot;rlut&quot;:</span> <span class="pre">[&quot;ANT&quot;]}</span></code> in the parameter file.</p>
</section>
<section id="Land/sea-masks">
<h3>Land/sea masks<a class="headerlink" href="#Land/sea-masks" title="Link to this heading"></a></h3>
<p>Land/Sea masking is required for some regions (e.g. “land”). This is controlled by variables <code class="docutils literal notranslate"><span class="pre">sftlf_filename_template</span></code> and <code class="docutils literal notranslate"><span class="pre">generate_sftlf</span></code>. The metrics package expects the land/sea mask files to be located with the model data under a fixed field variable (‘fx’) with a file name that follows the pattern in <code class="docutils literal notranslate"><span class="pre">sftlf_filename_template</span></code>. The example data does not come with a land/sea mask, so we set <code class="docutils literal notranslate"><span class="pre">generate_sftlf</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> in the basic parameter file to have the PMP generate a land/sea
mask where 0 represents ocean and 100 represents land.</p>
</section>
<section id="Extract-vertical-level-and-customize-observations">
<h3>Extract vertical level and customize observations<a class="headerlink" href="#Extract-vertical-level-and-customize-observations" title="Link to this heading"></a></h3>
<p>This example shows how to extract a vertical level from a 4-D variable. The 500 hPa level of zg is specified by adding “_500” to zg.</p>
<p>There are several sets of observations available in the standard PCMDI set. This case uses the ‘alternate1’ observations for zg with the flag <code class="docutils literal notranslate"><span class="pre">reference_data_set</span></code>. The test and observations path are specified with <code class="docutils literal notranslate"><span class="pre">test_data_path</span></code> and <code class="docutils literal notranslate"><span class="pre">reference_data_path</span></code>, respectively.</p>
<p>To see which datasets are the default and which are alternates, check out <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/main/doc/obs_info_dictionary.json">pcmdi_metrics/doc/obs_info_dictionary.json</a>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span><span class="err">\</span>
<span class="o">--</span><span class="n">case_id</span> <span class="s1">&#39;Ex5&#39;</span> \
<span class="o">--</span><span class="nb">vars</span> <span class="s1">&#39;zg_500&#39;</span> \
<span class="o">--</span><span class="n">test_data_set</span> <span class="s1">&#39;CanCM4&#39;</span> \
<span class="o">--</span><span class="n">custom_observations</span> <span class="s1">&#39;obs_info_dictionary.json&#39;</span> \
<span class="o">--</span><span class="n">reference_data_path</span> <span class="p">{</span><span class="n">demo_data_directory</span><span class="p">}</span><span class="o">/</span><span class="n">obs4MIPs_PCMDI_clims</span> \
<span class="o">--</span><span class="n">reference_data_set</span> <span class="s2">&quot;alternate1&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex5
test_data_set: [&#39;CanCM4&#39;]
realization:
vars: [&#39;zg_500&#39;]
varname_in_test_data: None
reference_data_set: [&#39;alternate1&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;EA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SCA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;pr&#39;: [&#39;global&#39;], &#39;rlut&#39;: [&#39;global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/obs4MIPs_PCMDI_clims
custom_observations: obs_info_dictionary.json
metrics_output_path: demo_output_tmp/Ex5
diagnostics_output_path: demo_output_tmp/Ex5
debug: False
--- start mean climate metrics calculation ---
varname: zg
level: 500.0
obs_dict (for variable): zg
{&#39;ERA-5&#39;: {&#39;CMIP_CMOR_TABLE&#39;: &#39;Amon&#39;,
           &#39;MD5sum&#39;: &#39;40da2ed461a8f9351a4568acd0f50cb5&#39;,
           &#39;RefTrackingDate&#39;: &#39;Thu Aug  5 08:58:01 2021&#39;,
           &#39;filename&#39;: &#39;zg_mon_ERA-5_PCMDI_1x1.200301-201812.AC.v20210805.nc&#39;,
           &#39;period&#39;: &#39;200301-201812&#39;,
           &#39;shape&#39;: &#39;(12, 37, 180, 360)&#39;,
           &#39;template&#39;: &#39;zg/ERA-5/v20210805/zg_mon_ERA-5_PCMDI_1x1.200301-201812.AC.v20210805.nc&#39;},
 &#39;ERA-INT&#39;: {&#39;CMIP_CMOR_TABLE&#39;: &#39;Amon&#39;,
             &#39;MD5sum&#39;: &#39;46535764dd4c32912944678eb0aa65c3&#39;,
             &#39;RefTrackingDate&#39;: &#39;Wed Aug  4 12:22:43 2021&#39;,
             &#39;filename&#39;: &#39;zg_mon_ERA-INT_PCMDI_gn.200301-201812.AC.v20210804.nc&#39;,
             &#39;period&#39;: &#39;200301-201812&#39;,
             &#39;shape&#39;: &#39;(12, 19, 121, 240)&#39;,
             &#39;template&#39;: &#39;zg/ERA-INT/v20210804/zg_mon_ERA-INT_PCMDI_gn.200301-201812.AC.v20210804.nc&#39;},
 &#39;alternate1&#39;: &#39;ERA-INT&#39;,
 &#39;default&#39;: &#39;ERA-5&#39;}
obs_dict (for variable) keys: dict_keys([&#39;ERA-5&#39;, &#39;ERA-INT&#39;, &#39;alternate1&#39;, &#39;default&#39;])
ref: alternate1
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/zg/ERA-INT/v20210804/zg_mon_ERA-INT_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.zg.198101-200512.AC.v20200426.nc
2025-09-09 13:25:08,981 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:25:08,981 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
&#39;units&#39;
units:
load and regrid done
region: global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 43.136407402525606
metrics, stdObs_xyt
metrics, stdObs_xyt: 266.7884899432676
metrics, std_xyt
metrics, std_xyt: 289.17169835623895
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -26.728290261789084
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 27.30732899227731
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  36.86694959285456 25.392330967511004
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9982653843697475
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
INFO::2025-09-09 13:26::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2025-09-09 13:26:04,162 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2025-09-09 13:26:04,162 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
region: NHEX
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 52.206485967482024
metrics, stdObs_xyt
metrics, stdObs_xyt: 217.77101191168182
metrics, std_xyt
metrics, std_xyt: 243.07923993876338
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -33.98470247975602
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 36.12512067121649
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  43.40084975931062 26.99395779045167
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9934603819018724
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
INFO::2025-09-09 13:26::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2025-09-09 13:26:46,741 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2025-09-09 13:26:46,741 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
region: SHEX
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 61.71843891709246
metrics, stdObs_xyt
metrics, stdObs_xyt: 283.2198853808546
metrics, std_xyt
metrics, std_xyt: 296.61741993383885
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -53.00981680958633
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 53.00981680958633
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  56.895347054037224 20.66494225042463
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9981091437408236
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
INFO::2025-09-09 13:27::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2025-09-09 13:27:22,011 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2025-09-09 13:27:22,011 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
region: TROPICS
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 14.846540218574845
metrics, stdObs_xyt
metrics, stdObs_xyt: 28.365941345001204
metrics, std_xyt
metrics, std_xyt: 34.43200606874954
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -9.9593208789076
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 10.047189244153815
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  12.569280267754309 7.6680332602513115
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9610677215773143
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
INFO::2025-09-09 13:27::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2025-09-09 13:27:55,743 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2025-09-09 13:27:55,743 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
INFO::2025-09-09 13:27::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500_2.5x2.5_regrid2_metrics_Ex5.json
2025-09-09 13:27:55,747 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500_2.5x2.5_regrid2_metrics_Ex5.json
2025-09-09 13:27:55,747 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500_2.5x2.5_regrid2_metrics_Ex5.json
pmp mean clim driver completed

</pre></div></div>
</div>
<p>There are a couple of steps for using an observational dataset that isn’t included in <strong>obs_info_dict.json</strong>. The observational dataset mush be documented in a catalog json following the format used in <strong>obs_info_dict.json</strong>. Then set the variable <code class="docutils literal notranslate"><span class="pre">custom_observations</span></code> to the path for this catalog. The observation files need to be located under the path specified by <code class="docutils literal notranslate"><span class="pre">reference_data_path</span></code></p>
</section>
<section id="Adding-notes-and-other-options">
<h3>Adding notes and other options<a class="headerlink" href="#Adding-notes-and-other-options" title="Link to this heading"></a></h3>
<p>This example adds a field to “user_notes” in the output json and saves the interpolated fields. Interpolated fields are saved at the same directory level as the parameter file.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span><span class="se">\</span>
--case_id<span class="w"> </span><span class="s1">&#39;Ex6&#39;</span><span class="w"> </span>--user_notes<span class="w"> </span><span class="s1">&#39;Example note&#39;</span><span class="w"> </span>--save_test_clims<span class="w"> </span>True
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex6
test_data_set: [&#39;ACCESS1-0&#39;, &#39;CanCM4&#39;]
realization:
vars: [&#39;pr&#39;]
varname_in_test_data: None
reference_data_set: [&#39;all&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: True
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;EA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SCA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;pr&#39;: [&#39;global&#39;], &#39;rlut&#39;: [&#39;global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/PMP_obs4MIPsClims
custom_observations: demo_data_tmp/PMP_obs4MIPsClims/PMP_obs4MIPsClims_catalogue_byVar_v20250305.json
metrics_output_path: demo_output_tmp/Ex6
diagnostics_output_path: demo_output_tmp/Ex6
debug: False
--- start mean climate metrics calculation ---
varname: pr
level: None
reference_data_set (all):  [&#39;default&#39;]
No &#39;default&#39; reference found, using the only available reference: GPCP-Monthly-3-2 for variable &#39;pr&#39;
obs_dict (for variable): pr
{&#39;GPCP-Monthly-3-2&#39;: {&#39;filename&#39;: &#39;pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc&#39;,
                      &#39;template&#39;: &#39;pr/gr/v20250211/pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc&#39;},
 &#39;default&#39;: &#39;GPCP-Monthly-3-2&#39;}
obs_dict (for variable) keys: dict_keys([&#39;GPCP-Monthly-3-2&#39;, &#39;default&#39;])
ref: default
ref_data_full_path: demo_data_tmp/PMP_obs4MIPsClims/pr/gr/v20250211/pr_mon_GPCP-Monthly-3-2_RSS_gr_198301-200412_AC_v20250211_interp_2.5x2.5.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:28:09,338 [WARNING]: dataset.py(open_dataset:119) &gt;&gt; &#34;No time coordinates were found in this dataset to decode. If time coordinates were expected to exist, make sure they are detectable by setting the CF &#39;axis&#39; or &#39;standard_name&#39; attribute (e.g., ds[&#39;time&#39;].attrs[&#39;axis&#39;] = &#39;T&#39; or ds[&#39;time&#39;].attrs[&#39;standard_name&#39;] = &#39;time&#39;). Afterwards, try decoding again with `xcdat.decode_time`.&#34;
2025-09-09 13:28:09,338 [WARNING]: dataset.py(open_dataset:119) &gt;&gt; &#34;No time coordinates were found in this dataset to decode. If time coordinates were expected to exist, make sure they are detectable by setting the CF &#39;axis&#39; or &#39;standard_name&#39; attribute (e.g., ds[&#39;time&#39;].attrs[&#39;axis&#39;] = &#39;T&#39; or ds[&#39;time&#39;].attrs[&#39;standard_name&#39;] = &#39;time&#39;). Afterwards, try decoding again with `xcdat.decode_time`.&#34;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.pr.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:28:09,930 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:28:09,930 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
load and regrid done
region: global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: pr
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 1.799550936366056
metrics, stdObs_xyt
metrics, stdObs_xyt: 2.515774881304398
metrics, std_xyt
metrics, std_xyt: 3.130519436028271
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 0.25922720300136437
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 0.7214291468630076
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  1.1919949747114273 1.1634660618004224
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8835624605311525
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2025-09-09 13:28::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/pr/pr_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex6.json
2025-09-09 13:28:56,220 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/pr/pr_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex6.json
2025-09-09 13:28:56,220 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/pr/pr_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex6.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.pr.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2025-09-09 13:28:56,319 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2025-09-09 13:28:56,319 [WARNING]: dataset.py(_is_decodable:548) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adjust units for pr
pr units adjusted to [mm d-1] from [kg m-2 s-1] by 86400 multiplied
units: mm/day
load and regrid done
region: global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var: pr
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 1.693711089398293
metrics, stdObs_xyt
metrics, stdObs_xyt: 2.515774881304398
metrics, std_xyt
metrics, std_xyt: 2.746290781422428
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -0.0535337294227398
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 0.774093996764745
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  1.2120644012749338 1.2108816014177675
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8345736264770883
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2025-09-09 13:30::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/pr/pr_CanCM4__2.5x2.5_regrid2_metrics_default_Ex6.json
2025-09-09 13:30:02,738 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/pr/pr_CanCM4__2.5x2.5_regrid2_metrics_default_Ex6.json
2025-09-09 13:30:02,738 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/pr/pr_CanCM4__2.5x2.5_regrid2_metrics_default_Ex6.json
INFO::2025-09-09 13:30::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/pr_2.5x2.5_regrid2_metrics_Ex6.json
2025-09-09 13:30:02,743 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/pr_2.5x2.5_regrid2_metrics_Ex6.json
2025-09-09 13:30:02,743 [INFO]: base.py(write:344) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/pr_2.5x2.5_regrid2_metrics_Ex6.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
<section id="Some-other-flags-to-note:">
<h4>Some other flags to note:<a class="headerlink" href="#Some-other-flags-to-note:" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--ext</span></code> ‘.nc’ or ‘.xml’. NetCDF files should be post-processed annual climatologies</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--filename_template</span></code> Based on the format of your model files.</p>
<ul>
<li><p>When the file name varies based on model, experiment, or another parameter, use <code class="docutils literal notranslate"><span class="pre">%(parameter)</span></code> as a placeholder
(for example, <code class="docutils literal notranslate"><span class="pre">CMIP5.historical.%(model_version)...</span></code> in this demo’s parameter file)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--help</span></code> or <code class="docutils literal notranslate"><span class="pre">-h</span></code> Help command for more information about all flags.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--custom_observations</span></code> Path for observation catalogue JSON file.</p></li>
</ul>
</section>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="Demo_2a_monsoon_wang.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">2A. Monsoon (Wang)</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="Demo_1a_compute_climatologies.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">1A. Compute Climatologies</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, PMP Developers
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">1B. Mean Climate Driver</a><ul>
<li><a class="reference internal" href="#Download-reference-datasets">Download reference datasets</a></li>
<li><a class="reference internal" href="#Basic-use">Basic use</a></li>
<li><a class="reference internal" href="#Customizing-parameters-in-the-mean-climate-driver">Customizing parameters in the mean climate driver</a><ul>
<li><a class="reference internal" href="#Specifying-the-model-and/or-variable">Specifying the model and/or variable</a></li>
<li><a class="reference internal" href="#Specifying-the-observation">Specifying the observation</a></li>
<li><a class="reference internal" href="#Using-custom-regions">Using custom regions</a></li>
<li><a class="reference internal" href="#Land/sea-masks">Land/sea masks</a></li>
<li><a class="reference internal" href="#Extract-vertical-level-and-customize-observations">Extract vertical level and customize observations</a></li>
<li><a class="reference internal" href="#Adding-notes-and-other-options">Adding notes and other options</a><ul>
<li><a class="reference internal" href="#Some-other-flags-to-note:">Some other flags to note:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=30646c52"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>