

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mean Climate &mdash; PCMDI Metrics 1.2.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sub-daily precipitation" href="subdaily-precipitation.html" />
    <link rel="prev" title="Documentation and Demos" href="metrics-overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> PCMDI Metrics
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Technical-overview.html">Usage Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install using Anaconda</a></li>
<li class="toctree-l1"><a class="reference internal" href="Supporting-data.html">Retrieving data for demos and use of the PMP</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="metrics-overview.html">Documentation and Demos</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="metrics-overview.html#overview">Overview</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Mean Climate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="subdaily-precipitation.html">Sub-daily precipitation</a></li>
<li class="toctree-l3"><a class="reference internal" href="extrop-mov.html">Extra-tropical modes of variability</a></li>
<li class="toctree-l3"><a class="reference internal" href="clivar-enso-metrics.html">CLIVAR 2020 ENSO Metrics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pmpparser.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PCMDI Metrics</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="metrics-overview.html">Documentation and Demos</a> &raquo;</li>
        
      <li>Mean Climate</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/mean-climate.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mean-climate">
<span id="using-the-package"></span><h1>Mean Climate<a class="headerlink" href="#mean-climate" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The mean climate summary statistics are some of the most routine analysis available from the PMP.  At the same time, because of the number of options available they do require some preparation in advance of the analysis, including:</p>
<ul class="simple">
<li><p>Setting observational climatologies</p></li>
<li><p>Preparation of model climatologies</p></li>
<li><p>Construction of an input parameter file</p></li>
</ul>
<div class="section" id="observational-climatologies">
<h3>Observational climatologies<a class="headerlink" href="#observational-climatologies" title="Permalink to this headline">¶</a></h3>
<p>A database of <a class="reference external" href="https://github.com/PCMDI/PCMDIobs-cmor-tables/blob/master/catalogue/pcmdiobs2_clims_byVar_catalogue_v20201210.json">observational climatologies</a> is available to users of the PMP. To obtain this, please contact the PMP user group (<a class="reference external" href="mailto:pcmdi-metrics&#37;&#52;&#48;llnl&#46;gov">pcmdi-metrics<span>&#64;</span>llnl<span>&#46;</span>gov</a>) and you will be promptly provided with the database.  A subset of this database is available via the demo data made available for the PMP tutorials via a <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/master/doc/jupyter/Demo/Demo_0_download_data.ipynb">jupyter notebook demo</a>.  Once you have downloaded this demo data you can interactively run the mean climate and other demos.</p>
<p>The <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/master/doc/jupyter/Demo/Demo_1_mean_climate.ipynb">mean climate notebook</a> provides a series of examples that demonstrate the options available.</p>
</div>
<div class="section" id="preparation-of-model-climatologies">
<h3>Preparation of model climatologies<a class="headerlink" href="#preparation-of-model-climatologies" title="Permalink to this headline">¶</a></h3>
<p>Sample model climatologies are available as part of the PMP demo database noted above and are used for the mean climate notebook. However, if a user wants to create and use their own model climatologies the a simple example is provide in the mean climate notebook itself or the <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/tree/master/sample_setups/pcmdi_parameter_files/mean_climate/make_clims">PMP github repository</a>.</p>
</div>
<div class="section" id="construction-of-an-input-paramater-file">
<h3>Construction of an input paramater file<a class="headerlink" href="#construction-of-an-input-paramater-file" title="Permalink to this headline">¶</a></h3>
<p>The PMP mean climate metrics can be controlled via an input parameter file, the command line, or both.  With the command line only it is executed via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mean_climate_driver</span><span class="o">.</span><span class="n">py</span>  <span class="o">-</span><span class="n">p</span> <span class="n">basic_param</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>or as a combination of an input parameter file and the command line, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mean_climate_driver</span><span class="o">.</span><span class="n">py</span>  <span class="o">-</span><span class="n">p</span> <span class="n">basic_param</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="nb">vars</span> <span class="n">rlut</span> <span class="n">pr</span>
</pre></div>
</div>
<p>where the list of variables to run the analysis on includes the variables ‘rlut’ (outgoing TOA longwave radiation) and ‘pr’ (precipitation).  The following parameters need to be set by the user either in a parameter file or on the command line:</p>
<ul class="simple">
<li><p>test_data_set</p></li>
<li><p>vars</p></li>
<li><p>reference_data_set</p></li>
<li><p>target_grid</p></li>
<li><p>regrid_tool</p></li>
<li><p>filename_template</p></li>
<li><p>test_data_path</p></li>
<li><p>reference_data_path</p></li>
<li><p>metric_output_path</p></li>
</ul>
<p>The output of the mean climate summary statistics are saved in a JSON file.  <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/master/sample_setups/jsons/mean_climate/CMIP5/historical/v20190724/tas/ACCESS1-0.tas.CMIP5.historical.regrid2.2p5x2p5.v20190724.json">An example result</a> demonstrates that multiple statistics are computed for different conditions including regions and seasons. The resulting JSON files include the data, software and hardware information on how the summary statistics.</p>
<p>In addition to the minimum set of parameters noted above, the following additional options than can be controlled for the mean climate:</p>
<ul class="simple">
<li><p>Select regridding method option</p></li>
<li><p>Define a different set of regions to compute the statistics.</p></li>
<li><p>Provide or estimate a land-sea mask</p></li>
<li><p>Define regional masking (e.g., global land-only, global ocean-only,tropical land)</p></li>
<li><p>Select to output (or not) interpolated climatologies including masking</p></li>
<li><p>Output results for each model into the same JSON file or into model-specific JSON files</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="subdaily-precipitation.html" class="btn btn-neutral float-right" title="Sub-daily precipitation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="metrics-overview.html" class="btn btn-neutral float-left" title="Documentation and Demos" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020 PCMDI

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>